/* globals.css */
@import "tailwindcss";

/* Theme Configuration - Tailwind V4 @theme */
@theme {
  /* Colors - Adjusted for Neumorphic depth, inspired by the image */
  --color-background: oklch(0.97 0.01 0); /* Light base like #f5f5f5 */
  --color-foreground: oklch(0.2 0.02 0); /* Darker text for contrast */
  --color-surface: oklch(
    0.98 0.01 0
  ); /* Slightly lighter for raised elements */
  --color-inset: oklch(0.94 0.01 0); /* Darker for sunken elements */
  --color-primary: oklch(0.7 0.15 280); /* Purple accent like #9b59b6 */
  --color-primary-foreground: oklch(0.97 0.01 0); /* Light text on primary */
  --color-muted: oklch(0.92 0.01 0); /* Subtle gray for backgrounds */
  --color-muted-foreground: oklch(0.5 0.02 0); /* A11y-compliant muted text */
  --color-accent: oklch(0.75 0.12 260); /* Blue accent for variety */
  --color-accent-foreground: oklch(0.2 0.02 0);
  --color-border: oklch(0.9 0.01 0); /* Soft border color */
  --color-ring: oklch(0.7 0.15 280); /* Matches primary for focus */
  --color-destructive: oklch(0.6 0.2 30); /* Red for errors */
  --color-destructive-foreground: oklch(0.97 0.01 0);

  /* Spacing */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;

  /* Radius */
  --radius-lg: 0.75rem; /* Consistent with imageâ€™s soft corners */

  /* Shadows - Stronger for Neumorphic depth, matching the image */
  --shadow-nm-soft:
    2px 2px 8px oklch(0 0 0 / 0.3), -2px -2px 8px oklch(1 0 0 / 0.5);
  --shadow-nm-medium:
    4px 4px 12px oklch(0 0 0 / 0.4), -4px -4px 12px oklch(1 0 0 / 0.6);
  --shadow-nm-deep:
    6px 6px 16px oklch(0 0 0 / 0.5), -6px -6px 16px oklch(1 0 0 / 0.7);
  --shadow-nm-inset-soft:
    inset 2px 2px 8px oklch(0 0 0 / 0.3), inset -2px -2px 8px oklch(1 0 0 / 0.5);
  --shadow-nm-inset-deep:
    inset 4px 4px 12px oklch(0 0 0 / 0.4),
    inset -4px -4px 12px oklch(1 0 0 / 0.6);

  /* Text Shadows - More pronounced for Neumorphism */
  --text-shadow-emboss-raised:
    -1px -1px 2px oklch(1 0 0 / 0.7), 1px 1px 2px oklch(0 0 0 / 0.4);
  --text-shadow-emboss-recessed:
    1px 1px 2px oklch(0 0 0 / 0.4), -1px -1px 2px oklch(1 0 0 / 0.7);
  --text-shadow-emboss-soft:
    -1px -1px 2px oklch(1 0 0 / 0.5), 1px 1px 2px oklch(0 0 0 / 0.3);
  --text-shadow-emboss-bold:
    -2px -2px 3px oklch(1 0 0 / 0.8), 2px 2px 3px oklch(0 0 0 / 0.5);
  --text-shadow-emboss-deep:
    2px 2px 4px oklch(0 0 0 / 0.5), -2px -2px 4px oklch(1 0 0 / 0.8);
  --text-shadow-emboss-gradient:
    -1px -1px 2px oklch(1 0 0 / 0.7), 1px 1px 2px oklch(0 0 0 / 0.4);
}

/* Dark Mode - Using .dark class */
.dark {
  --color-background: oklch(0.15 0.01 0);
  --color-foreground: oklch(0.9 0.01 0);
  --color-surface: oklch(0.2 0.01 0);
  --color-inset: oklch(0.1 0.01 0);
  --color-primary: oklch(0.7 0.15 280);
  --color-primary-foreground: oklch(0.15 0.01 0);
  --color-muted: oklch(0.3 0.01 0);
  --color-muted-foreground: oklch(0.7 0.02 0);
  --color-accent: oklch(0.65 0.15 200);
  --color-accent-foreground: oklch(0.9 0.01 0);
  --color-border: oklch(0.25 0.01 0);
  --color-ring: oklch(0.7 0.15 280);
  --shadow-nm-soft:
    2px 2px 8px oklch(0 0 0 / 0.6), -2px -2px 8px oklch(0.3 0.01 0 / 0.4);
  --shadow-nm-medium:
    4px 4px 12px oklch(0 0 0 / 0.7), -4px -4px 12px oklch(0.3 0.01 0 / 0.5);
  --shadow-nm-deep:
    6px 6px 16px oklch(0 0 0 / 0.8), -6px -6px 16px oklch(0.3 0.01 0 / 0.6);
  --shadow-nm-inset-soft:
    inset 2px 2px 8px oklch(0 0 0 / 0.6),
    inset -2px -2px 8px oklch(0.3 0.01 0 / 0.4);
  --shadow-nm-inset-deep:
    inset 4px 4px 12px oklch(0 0 0 / 0.7),
    inset -4px -4px 12px oklch(0.3 0.01 0 / 0.5);
  --text-shadow-emboss-raised:
    -1px -1px 2px oklch(0.3 0.01 0 / 0.4), 1px 1px 2px oklch(0 0 0 / 0.7);
  --text-shadow-emboss-recessed:
    1px 1px 2px oklch(0 0 0 / 0.7), -1px -1px 2px oklch(0.3 0.01 0 / 0.4);
  --text-shadow-emboss-soft:
    -1px -1px 2px oklch(0.3 0.01 0 / 0.3), 1px 1px 2px oklch(0 0 0 / 0.5);
  --text-shadow-emboss-bold:
    -2px -2px 3px oklch(0.3 0.01 0 / 0.5), 2px 2px 3px oklch(0 0 0 / 0.8);
  --text-shadow-emboss-deep:
    2px 2px 4px oklch(0 0 0 / 0.8), -2px -2px 4px oklch(0.3 0.01 0 / 0.5);
  --text-shadow-emboss-gradient:
    -1px -1px 2px oklch(0.3 0.01 0 / 0.4), 1px 1px 2px oklch(0 0 0 / 0.7);
}

/* Pseudo-Elements with @variant - Tailwind V4 */
@variant dark {
  input::placeholder,
  textarea::placeholder {
    @apply text-muted-foreground/50;
  }
  button:not(:disabled)::after,
  [role="button"]:not(:disabled)::after {
    @apply cursor-pointer;
  }
}

/* Component Layer - Tailwind V4 */
@component {
  /* Core Neumorphic Components */
  .neu-button {
    @apply nm-raised text-emboss-bold bg-surface rounded-lg px-6 py-3 font-medium transition-all duration-200;
  }
  .neu-input {
    @apply nm-pressed bg-inset text-emboss-soft border-border focus:ring-ring w-full rounded-lg border px-4 py-2 transition-all duration-200 focus:ring-3;
  }
  .neu-card {
    @apply nm-raised bg-surface rounded-lg p-6 transition-all duration-200;
  }
  .neu-slider {
    @apply nm-raised bg-surface shadow-nm-soft focus-visible:outline-ring h-2 w-full rounded-full transition-all duration-200;
    .slider-thumb {
      @apply nm-raised bg-surface shadow-nm-medium h-4 w-4 rounded-full transition-all duration-200;
    }
  }
  .neu-avatar {
    @apply nm-raised bg-surface shadow-nm-soft h-12 w-12 overflow-hidden rounded-full transition-all duration-200;
  }

  /* Specific Components (Inspired by Image) */
  .collapsible {
    @apply w-full max-w-md;
  }
  .collapsible-compact {
    @apply w-full max-w-xs;
  }
  .collapsible-wide {
    @apply w-full max-w-lg;
  }
  .collapsible-header {
    @apply flex items-center justify-between;
  }
  .collapsible-trigger {
    @apply nm-raised text-emboss-soft bg-surface flex h-6 w-6 items-center justify-center rounded-full p-1 transition-all duration-200;
  }
  .collapsible-content {
    @apply mt-2;
  }
  .collapsible-item {
    @apply nm-flat bg-surface shadow-nm-soft my-2 rounded-md p-2 transition-all duration-200;
  }
  .alert-dialog-trigger {
    @apply neu-button bg-primary text-primary-foreground;
  }
  .alert-dialog-content {
    @apply nm-raised bg-surface shadow-nm-deep fixed top-1/2 left-1/2 max-h-[85vh] w-[90vw] max-w-md -translate-x-1/2 -translate-y-1/2 transform overflow-y-auto rounded-lg p-6 transition-all duration-300 focus:outline-none;
  }
  .alert-dialog-actions {
    @apply mt-6 flex justify-end gap-4;
  }
  .alert-dialog-cancel {
    @apply neu-button;
  }
  .alert-dialog-action {
    @apply neu-button bg-destructive text-destructive-foreground;
  }
  .drawer {
    @apply bg-background fixed z-[100] w-full;
  }
  .drawer.top {
    @apply top-0 right-0 left-0 max-h-[20rem] rounded-b-lg md:mx-auto md:max-w-[40rem];
  }
  .drawer.bottom {
    @apply right-0 bottom-0 left-0 max-h-[20rem] rounded-t-lg md:mx-auto md:max-w-[40rem];
  }
  .drawer.left {
    @apply inset-y-0 left-0 max-w-[16rem] rounded-r-lg md:w-64;
  }
  .drawer.right {
    @apply inset-y-0 right-0 max-w-[16rem] rounded-l-lg md:w-64;
  }
  .drawer-overlay {
    @apply bg-muted/50 dark:bg-muted/75 fixed inset-0 z-[99] backdrop-blur-sm;
  }
  .drawer-content {
    @apply bg-surface flex h-full flex-col p-6;
  }
  .drawer-header {
    @apply nm-flat border-border flex items-center justify-between border-b pb-4;
  }
  .drawer-body {
    @apply flex-1 py-4;
  }
  .nav-horizontal {
    @apply flex items-center gap-4;
  }
  .footer {
    @apply border-border bg-background border-t py-8;
  }
  .gallery-card {
    @apply nm-flat bg-surface border-border rounded-lg border p-6;
  }
  .form {
    @apply nm-flat bg-surface w-full max-w-md flex-col gap-4 rounded-lg p-6;
  }
  .form-wide {
    @apply nm-flat bg-surface w-full max-w-3xl flex-col gap-4 rounded-lg p-6;
  }
  .form-compact {
    @apply nm-flat bg-surface w-full max-w-xs flex-col gap-2 rounded-lg p-4;
  }
  .form-field {
    @apply grid gap-2;
  }
  .form-label {
    @apply text-emboss-soft text-sm font-medium md:text-base;
  }
  .form-message {
    @apply text-muted-foreground text-emboss-soft text-xs opacity-80 md:text-sm;
  }
  .form-control {
    @apply nm-pressed bg-inset border-border focus:ring-ring w-full rounded-lg border px-4 py-2 transition-all duration-200 focus:ring-3;
  }
  .form-textarea {
    @apply nm-pressed bg-inset border-border focus:ring-ring min-h-[80px] w-full resize-y rounded-lg border px-4 py-2 transition-all duration-200 focus:ring-3;
  }
  .form-submit {
    @apply nm-raised text-emboss-bold bg-surface mt-4 w-full rounded-lg px-6 py-3 font-medium transition-all duration-200;
  }
  .dropdown-menu {
    @apply inline-flex items-center;
  }
  .dropdown-trigger {
    @apply nm-raised bg-surface text-emboss-soft flex h-9 w-9 items-center justify-center rounded-lg p-2 transition-all duration-200;
  }
  .dropdown-content {
    @apply nm-raised bg-surface shadow-nm-medium min-w-[12rem] rounded-lg p-2;
  }
  .dropdown-item {
    @apply nm-flat text-emboss-soft bg-surface relative flex items-center gap-2 rounded-md px-3 py-2 transition-all duration-200;
  }
  .dropdown-separator {
    @apply nm-flat from-background via-muted to-background my-2 h-px bg-gradient-to-r;
  }
  .dropdown-sub-trigger {
    @apply nm-flat text-emboss-soft bg-surface relative flex items-center justify-between gap-2 rounded-md px-3 py-2 transition-all duration-200;
  }
  .dropdown-sub-content {
    @apply nm-raised bg-surface shadow-nm-medium min-w-[12rem] rounded-lg p-2;
  }
  .dropdown-label {
    @apply text-muted-foreground text-emboss-soft px-3 py-1 text-xs;
  }
  .appbar {
    @apply nm-raised bg-surface shadow-nm-medium fixed top-0 right-0 left-0 z-50 mx-auto flex w-full max-w-full items-center justify-between rounded-lg p-4;
  }
  .appbar-drawer-button {
    @apply nm-raised bg-surface text-emboss-soft flex h-10 w-10 items-center justify-center rounded-lg p-2 transition-all duration-200 md:hidden;
  }
  .appbar-title {
    @apply text-emboss-bold text-lg font-semibold;
  }
  .appbar-nav {
    @apply hidden flex-1 items-center justify-center gap-4 md:flex;
  }
  .appbar-toolbar {
    @apply flex items-center gap-2;
  }
  .dialog-trigger {
    @apply neu-button bg-primary text-primary-foreground;
  }
  .dialog-content {
    @apply nm-raised bg-surface shadow-nm-deep fixed top-1/2 left-1/2 max-h-[85vh] w-[90vw] max-w-md -translate-x-1/2 -translate-y-1/2 transform overflow-y-auto rounded-lg p-6 transition-all duration-300 focus:outline-none;
  }
  .dialog-close {
    @apply nm-raised bg-surface text-emboss-soft absolute top-2 right-2 flex h-6 w-6 items-center justify-center rounded-full p-1 transition-all duration-200;
  }
  .switch {
    @apply nm-pressed bg-inset shadow-nm-inset-soft focus:ring-ring relative h-6 w-10 cursor-pointer rounded-full transition-all duration-200 focus:ring-3 focus:outline-none;
  }
  .switch[data-state="checked"] {
    @apply bg-primary;
  }
  .switch-small {
    @apply nm-pressed bg-inset shadow-nm-inset-soft focus:ring-ring relative h-5 w-8 cursor-pointer rounded-full transition-all duration-200 focus:ring-3 focus:outline-none;
  }
  .switch-small[data-state="checked"] {
    @apply bg-primary;
  }
  .switch-large {
    @apply nm-pressed bg-inset shadow-nm-inset-soft focus:ring-ring relative h-8 w-14 cursor-pointer rounded-full transition-all duration-200 focus:ring-3 focus:outline-none;
  }
  .switch-large[data-state="checked"] {
    @apply bg-primary;
  }
  .switch-thumb {
    @apply nm-raised bg-surface absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform duration-200;
  }
  .switch-thumb[data-state="checked"] {
    @apply translate-x-4;
  }
  .switch-thumb-small {
    @apply nm-raised bg-surface absolute top-0.5 left-0.5 h-4 w-4 rounded-full transition-transform duration-200;
  }
  .switch-thumb-small[data-state="checked"] {
    @apply translate-x-3;
  }
  .switch-thumb-large {
    @apply nm-raised bg-surface absolute top-0.5 left-0.5 h-7 w-7 rounded-full transition-transform duration-200;
  }
  .switch-thumb-large[data-state="checked"] {
    @apply translate-x-6;
  }
  .alert-dialog-action {
    @apply neu-button bg-destructive text-destructive-foreground;
  }
  .avatar {
    @apply nm-raised bg-surface shadow-nm-soft h-12 w-12 overflow-hidden rounded-full transition-all duration-200;
  }
  .avatar-bordered {
    @apply nm-raised bg-surface border-primary shadow-nm-soft h-12 w-12 overflow-hidden rounded-full border transition-all duration-200;
  }
  .avatar-sunken {
    @apply nm-pressed bg-inset shadow-nm-inset-deep h-12 w-12 overflow-hidden rounded-full transition-all duration-200;
  }
  .avatar-outer-shadow {
    @apply nm-raised bg-surface shadow-nm-deep h-12 w-12 overflow-hidden rounded-full transition-all duration-200;
  }
  .avatar-inner-shadow {
    @apply nm-raised bg-surface shadow-nm-inset-soft h-12 w-12 overflow-hidden rounded-full transition-all duration-200;
  }
  .separator {
    @apply nm-flat from-background via-muted to-background my-4 h-px w-full bg-gradient-to-r transition-all duration-200;
  }
  .separator-subtle {
    @apply nm-flat from-background via-muted/50 to-background my-2 h-px w-full bg-gradient-to-r transition-all duration-200;
  }
  .separator-prominent {
    @apply nm-raised from-surface via-muted to-surface my-6 h-1 w-full bg-gradient-to-r transition-all duration-200;
  }
  .nav-menu {
    @apply nm-raised bg-surface shadow-nm-medium relative z-10 flex w-full max-w-full justify-center rounded-lg p-2 transition-all duration-200;
  }
  .nav-menu-list {
    @apply m-0 flex list-none items-center gap-2;
  }
  .nav-menu-item {
    @apply relative;
  }
  .nav-menu-trigger {
    @apply nm-flat bg-surface text-emboss-soft flex items-center gap-1 rounded-md px-4 py-2 font-medium transition-all duration-200;
  }
  .nav-menu-content {
    @apply nm-raised bg-surface shadow-nm-medium absolute top-full left-0 z-10 mx-auto w-full max-w-[600px] rounded-lg p-4 transition-all duration-300;
  }
  .nav-menu-link {
    @apply nm-flat bg-surface text-emboss-soft block rounded-md px-4 py-2 transition-all duration-200;
  }
  .nav-menu-indicator {
    @apply absolute top-full left-0 z-10 flex h-2 w-full items-end justify-center transition-all duration-200;
  }
  .nav-menu-viewport {
    @apply bg-surface absolute top-full left-0 z-10 mx-auto mt-2 w-full max-w-[600px] overflow-hidden rounded-lg transition-all duration-300;
  }
  .nav-menu-list-item {
    @apply nm-flat bg-surface rounded-md p-3 transition-all duration-200;
  }
  .nav-menu-list-item .title {
    @apply text-emboss-bold mb-1 font-medium;
  }
  .nav-menu-list-item .description {
    @apply text-muted-foreground text-emboss-soft text-sm;
  }
}

/* Utility Layer - Tailwind V4 */
@utility {
  /* Base Neumorphic Utilities */
  nm-flat {
    @apply bg-surface shadow-nm-soft rounded-lg transition-all duration-200;
  }
  nm-raised {
    @apply bg-surface shadow-nm-medium rounded-lg transition-all duration-200;
  }
  nm-pressed {
    @apply bg-inset shadow-nm-inset-deep rounded-lg transition-all duration-200;
  }

  /* Text Emboss Utilities */
  text-emboss-raised {
    text-shadow: var(--text-shadow-emboss-raised);
    @apply transition-all duration-200;
  }
  text-emboss-soft {
    text-shadow: var(--text-shadow-emboss-soft);
    @apply transition-all duration-200;
  }
  text-emboss-bold {
    text-shadow: var(--text-shadow-emboss-bold);
    @apply transition-all duration-200;
  }

  /* Variants for Interactive States */
  @variant hover {
    nm-raised {
      @apply shadow-nm-deep;
    }
    text-emboss-soft {
      text-shadow:
        -1px -1px 2px oklch(1 0 0 / 0.6),
        1px 1px 2px oklch(0 0 0 / 0.4);
    }
    text-emboss-bold {
      text-shadow:
        -2px -2px 3px oklch(1 0 0 / 0.9),
        2px 2px 3px oklch(0 0 0 / 0.6);
    }
  }
  @variant focus-visible {
    nm-raised,
    nm-flat {
      @apply outline-ring-3;
    }
    text-emboss-soft {
      text-shadow:
        -1px -1px 2px oklch(1 0 0 / 0.6),
        1px 1px 2px oklch(0 0 0 / 0.4);
    }
    text-emboss-bold {
      text-shadow:
        -2px -2px 3px oklch(1 0 0 / 0.9),
        2px 2px 3px oklch(0 0 0 / 0.6);
    }
  }
  @variant active {
    nm-raised {
      @apply shadow-nm-inset-soft;
    }
  }
}
